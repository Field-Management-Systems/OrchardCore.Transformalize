!function(n){"use strict";function u(n){return!!i&&i.createObjectURL(n)}function f(n){return!!i&&i.revokeObjectURL(n)}function e(n,t){!n||"blob:"!==n.slice(0,5)||t&&t.noRevoke||f(n)}function o(t,i,r,u){var f,e;return n.FileReader?(f=new FileReader,f.onload=function(){i.call(f,this.result)},r&&(f.onabort=f.onerror=function(){r.call(f,this.error)}),e=f[u||"readAsDataURL"],e?(e.call(f,t),f):void 0):!1}function r(n,t){return Object.prototype.toString.call(t)==="[object "+n+"]"}function t(i,f,s){function h(f,h){function v(n,t){f!==h?n instanceof Error?h(n):((t=t||{}).image=n,f(t)):f&&f(n,t)}function a(t,f){f&&n.console&&console.log(f);t&&r("Blob",t)?l=u(i=t):(l=i,s&&s.crossOrigin&&(c.crossOrigin=s.crossOrigin));c.src=l}var l,c=document.createElement("img");return c.onerror=function(n){e(l,s);h&&h.call(c,n)},c.onload=function(){e(l,s);var n={originalWidth:c.naturalWidth||c.width,originalHeight:c.naturalHeight||c.height};try{t.transform(c,s,v,i,n)}catch(r){h&&h(r)}},"string"==typeof i?(t.requiresMetaData(s)?t.fetchBlob(i,a,s):a(),c):r("Blob",i)||r("File",i)?(l=u(i))?(c.src=l,c):o(i,function(n){c.src=n},h):void 0}return n.Promise&&"function"!=typeof f?(s=f,new Promise(h)):h(f,f)}var i=n.URL||n.webkitURL;t.requiresMetaData=function(n){return n&&n.meta};t.fetchBlob=function(n,t){t()};t.transform=function(n,t,i,r,u){i(n,u)};t.global=n;t.readFile=o;t.isInstanceOf=r;t.createObjectURL=u;t.revokeObjectURL=f;"function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof module&&module.exports?module.exports=t:n.loadImage=t}("undefined"!=typeof window&&window||this),function(n){"use strict";"function"==typeof define&&define.amd?define(["./load-image"],n):"object"==typeof module&&module.exports?n(require("./load-image")):n(window.loadImage)}(function(n){"use strict";var t=n.transform;n.createCanvas=function(t,i,r){if(r&&n.global.OffscreenCanvas)return new OffscreenCanvas(t,i);var u=document.createElement("canvas");return u.width=t,u.height=i,u};n.transform=function(i,r,u,f,e){t.call(n,n.scale(i,r,e),r,u,f,e)};n.transformCoordinates=function(){};n.getTransformedOptions=function(n,t){var i,r,f,e,u=t.aspectRatio;if(!u)return t;for(r in i={},t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r]);return i.crop=!0,u<(f=n.naturalWidth||n.width)/(e=n.naturalHeight||n.height)?(i.maxWidth=e*u,i.maxHeight=e):(i.maxWidth=f,i.maxHeight=f/u),i};n.drawImage=function(n,t,i,r,u,f,e,o,s){var h=t.getContext("2d");return!1===s.imageSmoothingEnabled?(h.msImageSmoothingEnabled=!1,h.imageSmoothingEnabled=!1):s.imageSmoothingQuality&&(h.imageSmoothingQuality=s.imageSmoothingQuality),h.drawImage(n,i,r,u,f,0,0,e,o),h};n.requiresCanvas=function(n){return n.canvas||n.crop||!!n.aspectRatio};n.scale=function(t,i,r){function nt(){var n=Math.max((b||e)/e,(k||s)/s);1<n&&(e*=n,s*=n)}function tt(){var n=Math.min((c||e)/e,(l||s)/s);n<1&&(e*=n,s*=n)}i=i||{};r=r||{};var c,l,b,k,u,f,a,v,p,w,d,o,g=t.getContext||n.requiresCanvas(i)&&!!n.global.HTMLCanvasElement,h=t.naturalWidth||t.width,y=t.naturalHeight||t.height,e=h,s=y;if(g&&(a=(i=n.getTransformedOptions(t,i,r)).left||0,v=i.top||0,i.sourceWidth?(u=i.sourceWidth,i.right!==undefined&&i.left===undefined&&(a=h-u-i.right)):u=h-a-(i.right||0),i.sourceHeight?(f=i.sourceHeight,i.bottom!==undefined&&i.top===undefined&&(v=y-f-i.bottom)):f=y-v-(i.bottom||0),e=u,s=f),c=i.maxWidth,l=i.maxHeight,b=i.minWidth,k=i.minHeight,g&&c&&l&&i.crop?(d=u/f-(e=c)/(s=l))<0?(f=l*u/c,i.top===undefined&&i.bottom===undefined&&(v=(y-f)/2)):0<d&&(u=c*f/l,i.left===undefined&&i.right===undefined&&(a=(h-u)/2)):((i.contain||i.cover)&&(b=c=c||b,k=l=l||k),i.cover?(tt(),nt()):(nt(),tt())),g){if(1<(p=i.pixelRatio)&&(!t.style.width||Math.floor(parseFloat(t.style.width,10))!==Math.floor(h/p))&&(e*=p,s*=p),n.orientationCropBug&&!t.getContext&&(a||v||u!==h||f!==y)&&(d=t,t=n.createCanvas(h,y,!0),n.drawImage(d,t,0,0,h,y,h,y,i)),0<(w=i.downsamplingRatio)&&w<1&&e<u&&s<f)for(;e<u*w;)o=n.createCanvas(u*w,f*w,!0),n.drawImage(t,o,a,v,u,f,o.width,o.height,i),v=a=0,u=o.width,f=o.height,t=o;return o=n.createCanvas(e,s),n.transformCoordinates(o,i,r),1<p&&(o.style.width=o.width/p+"px"),n.drawImage(t,o,a,v,u,f,e,s,i).setTransform(1,0,0,1,0,0),o}return t.width=e,t.height=s,t}}),function(n){"use strict";"function"==typeof define&&define.amd?define(["./load-image"],n):"object"==typeof module&&module.exports?n(require("./load-image")):n(window.loadImage)}(function(n){"use strict";function r(r,u,o,s){function h(u,h){if(!(t.DataView&&i&&r&&12<=r.size&&"image/jpeg"===r.type))return u(s);var l=o.maxMetaDataSize||262144;n.readFile(i.call(r,0,l),function(n){var i=new DataView(n);if(65496!==i.getUint16(0))return h(new Error("Invalid JPEG file: Missing JPEG marker."));for(var r,a,v,l,t=2,p=i.byteLength-4,y=t;t<p&&(65504<=(r=i.getUint16(t))&&r<=65519||65534===r);){if(t+(a=i.getUint16(t+2)+2)>i.byteLength){console.log("Invalid JPEG metadata: Invalid segment size.");break}if((v=e.jpeg[r])&&!o.disableMetaDataParsers)for(l=0;l<v.length;l+=1)v[l].call(c,i,t,a,s,o);y=t+=a}!o.disableImageHead&&6<y&&(s.imageHead=f.call(n,0,y));u(s)},h,"readAsArrayBuffer")||u(s)}var c=this;return o=o||{},t.Promise&&"function"!=typeof u?(s=o=u||{},new Promise(h)):(s=s||{},h(u,u))}function o(n,t,r){return n&&t&&r?new Blob([r,i.call(n,t.byteLength)],{type:"image/jpeg"}):null}var t=n.global,u=n.transform,i=t.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),f=t.ArrayBuffer&&ArrayBuffer.prototype.slice||function(n,t){t=t||this.byteLength-n;var r=new Uint8Array(this,n,t),i=new Uint8Array(t);return i.set(r),i.buffer},e={jpeg:{65505:[],65517:[]}};n.transform=function(i,f,e,o,s){n.requiresMetaData(f)?r(o,function(r){r!==s&&(t.console&&console.log(r),r=s);u.call(n,i,f,e,o,r)},f,s=s||{}):u.apply(n,arguments)};n.blobSlice=i;n.bufferSlice=f;n.replaceHead=function(n,i,u){var f={maxMetaDataSize:256,disableMetaDataParsers:!0};if(!u&&t.Promise)return r(n,f).then(function(t){return o(n,t.imageHead,i)});r(n,function(t){u(o(n,t.imageHead,i))},f)};n.parseMetaData=r;n.metaDataParsers=e}),function(n){"use strict";"function"==typeof define&&define.amd?define(["./load-image"],n):"object"==typeof module&&module.exports?n(require("./load-image")):n(window.loadImage)}(function(n){"use strict";var t=n.global;t.fetch&&t.Request&&t.Response&&t.Response.prototype.blob?n.fetchBlob=function(n,i,r){function u(n){return n.blob()}if(t.Promise&&"function"!=typeof i)return fetch(new Request(n,i)).then(u);fetch(new Request(n,r)).then(u).then(i)["catch"](function(n){i(null,n)})}:t.XMLHttpRequest&&""===(new XMLHttpRequest).responseType&&(n.fetchBlob=function(n,i,r){function u(t,i){r=r||{};var u=new XMLHttpRequest;u.open(r.method||"GET",n);r.headers&&Object.keys(r.headers).forEach(function(n){u.setRequestHeader(n,r.headers[n])});u.withCredentials="include"===r.credentials;u.responseType="blob";u.onload=function(){t(u.response)};u.onerror=u.onabort=u.ontimeout=function(n){t===i?i(null,n):i(n)};u.send(r.body)}return t.Promise&&"function"!=typeof i?(r=i,new Promise(u)):u(i,i)})}),function(n){"use strict";"function"==typeof define&&define.amd?define(["./load-image","./load-image-scale","./load-image-meta"],n):"object"==typeof module&&module.exports?n(require("./load-image"),require("./load-image-scale"),require("./load-image-meta")):n(window.loadImage)}(function(n){"use strict";function r(t,i){var r=t&&t.orientation;return!0===r&&!n.orientation||1===r&&n.orientation||(!i||n.orientation)&&1<r&&r<9}function u(n,t){return n!==t&&(1===n&&1<t&&t<9||1<n&&n<9)}function f(n,t){if(1<t&&t<9)switch(n){case 2:case 4:return 4<t;case 5:case 7:return t%2==0;case 6:case 8:return 2===t||4===t||5===t||7===t}}var t,i,e=n.transform,o=n.requiresCanvas,s=n.requiresMetaData,h=n.transformCoordinates,c=n.getTransformedOptions;(t=n).global.document&&((i=document.createElement("img")).onload=function(){var n;t.orientation=2===i.width&&3===i.height;t.orientation&&((n=t.createCanvas(1,1,!0).getContext("2d")).drawImage(i,1,1,1,1,0,0,1,1),t.orientationCropBug="255,255,255,255"!==n.getImageData(0,0,1,1).data.toString())},i.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAIAAwMBEQACEQEDEQH/xABRAAEAAAAAAAAAAAAAAAAAAAAKEAEBAQADAQEAAAAAAAAAAAAGBQQDCAkCBwEBAAAAAAAAAAAAAAAAAAAAABEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8AG8T9NfSMEVMhQvoP3fFiRZ+MTHDifa/95OFSZU5OzRzxkyejv8ciEfhSceSXGjS8eSdLnZc2HDm4M3BxcXwH/9k=");n.requiresCanvas=function(t){return r(t)||o.call(n,t)};n.requiresMetaData=function(t){return r(t,!0)||s.call(n,t)};n.transform=function(t,i,r,u,f){e.call(n,t,i,function(t,i){var u,f,e;i&&4<(u=n.orientation&&i.exif&&i.exif.get("Orientation"))&&u<9&&(f=i.originalWidth,e=i.originalHeight,i.originalWidth=e,i.originalHeight=f);r(t,i)},u,f)};n.getTransformedOptions=function(t,i,r){var e=c.call(n,t,i),w=r.exif&&r.exif.get("Orientation"),v=e.orientation,y=n.orientation&&w,p;if(!0===v&&(v=w),!u(v,y))return e;var b,k,s=e.top,h=e.right,l=e.bottom,a=e.left,o={};for(p in e)Object.prototype.hasOwnProperty.call(e,p)&&(o[p]=e[p]);if((4<(o.orientation=v)&&!(4<y)||v<5&&4<y)&&(o.maxWidth=e.maxHeight,o.maxHeight=e.maxWidth,o.minWidth=e.minHeight,o.minHeight=e.minWidth,o.sourceWidth=e.sourceHeight,o.sourceHeight=e.sourceWidth),1<y){switch(y){case 2:h=e.left;a=e.right;break;case 3:s=e.bottom;h=e.left;l=e.top;a=e.right;break;case 4:s=e.bottom;l=e.top;break;case 5:s=e.left;h=e.bottom;l=e.right;a=e.top;break;case 6:s=e.left;h=e.top;l=e.right;a=e.bottom;break;case 7:s=e.right;h=e.top;l=e.left;a=e.bottom;break;case 8:s=e.right;h=e.bottom;l=e.left;a=e.top}f(v,y)&&(b=s,k=h,s=l,h=a,l=b,a=k)}switch(o.top=s,o.right=h,o.bottom=l,o.left=a,v){case 2:o.right=a;o.left=h;break;case 3:o.top=l;o.right=a;o.bottom=s;o.left=h;break;case 4:o.top=l;o.bottom=s;break;case 5:o.top=a;o.right=l;o.bottom=h;o.left=s;break;case 6:o.top=h;o.right=l;o.bottom=a;o.left=s;break;case 7:o.top=h;o.right=s;o.bottom=a;o.left=l;break;case 8:o.top=a;o.right=s;o.bottom=h;o.left=l}return o};n.transformCoordinates=function(t,i,r){var o,l;if(h.call(n,t,i,r),o=i.orientation,l=n.orientation&&r.exif&&r.exif.get("Orientation"),u(o,l)){var e=t.getContext("2d"),s=t.width,c=t.height,a=s,v=c;switch((4<o&&!(4<l)||o<5&&4<l)&&(t.width=c,t.height=s),4<o&&(a=c,v=s),l){case 2:e.translate(a,0);e.scale(-1,1);break;case 3:e.translate(a,v);e.rotate(Math.PI);break;case 4:e.translate(0,v);e.scale(1,-1);break;case 5:e.rotate(-.5*Math.PI);e.scale(-1,1);break;case 6:e.rotate(-.5*Math.PI);e.translate(-a,0);break;case 7:e.rotate(-.5*Math.PI);e.translate(-a,v);e.scale(1,-1);break;case 8:e.rotate(.5*Math.PI);e.translate(0,-v)}switch(f(o,l)&&(e.translate(a,v),e.rotate(Math.PI)),o){case 2:e.translate(s,0);e.scale(-1,1);break;case 3:e.translate(s,c);e.rotate(Math.PI);break;case 4:e.translate(0,c);e.scale(1,-1);break;case 5:e.rotate(.5*Math.PI);e.scale(1,-1);break;case 6:e.rotate(.5*Math.PI);e.translate(0,-c);break;case 7:e.rotate(.5*Math.PI);e.translate(s,-c);e.scale(-1,1);break;case 8:e.rotate(-.5*Math.PI);e.translate(-s,0)}}}}),function(n){"use strict";"function"==typeof define&&define.amd?define(["./load-image","./load-image-meta"],n):"object"==typeof module&&module.exports?n(require("./load-image"),require("./load-image-meta")):n(window.loadImage)}(function(n){"use strict";function t(n){n&&(Object.defineProperty(this,"map",{value:this.ifds[n].map}),Object.defineProperty(this,"tags",{value:this.tags&&this.tags[n]||{}}))}function r(n,t,i){return(!n||n[i])&&(!t||!0!==t[i])}function u(n,t,u,f,e,o,s,h){var v,y,l,c,a,p;if(u+6>n.byteLength)console.log("Invalid Exif data: Invalid directory offset.");else{if(!((y=u+2+12*(v=n.getUint16(u,f)))+4>n.byteLength)){for(l=0;l<v;l+=1)c=u+2+12*l,r(s,h,a=n.getUint16(c,f))&&(p=function(n,t,r,u,f,e){var a,c,h,o,l,v,s=i[u];if(s){if(!((c=4<(a=s.size*f)?t+n.getUint32(r+8,e):r+8)+a>n.byteLength)){if(1===f)return s.getValue(n,c,e);for(h=[],o=0;o<f;o+=1)h[o]=s.getValue(n,c+o*s.size,e);if(s.ascii){for(l="",o=0;o<h.length&&"\0"!==(v=h[o]);o+=1)l+=v;return l}return h}console.log("Invalid Exif data: Invalid data offset.")}else console.log("Invalid Exif data: Invalid tag type.")}(n,t,c,n.getUint16(c+2,f),n.getUint32(c+4,f),f),e[a]=p,o&&(o[a]=c));return n.getUint32(y,f)}console.log("Invalid Exif data: Invalid directory size.")}}t.prototype.ifds={ifd1:{name:"Thumbnail",map:t.prototype.map={Orientation:274,Thumbnail:"ifd1",Blob:513,Exif:34665,GPSInfo:34853,Interoperability:40965}},34665:{name:"Exif",map:{}},34853:{name:"GPSInfo",map:{}},40965:{name:"Interoperability",map:{}}};t.prototype.get=function(n){return this[n]||this[this.map[n]]};var i={1:{getValue:function(n,t){return n.getUint8(t)},size:1},2:{getValue:function(n,t){return String.fromCharCode(n.getUint8(t))},size:1,ascii:!0},3:{getValue:function(n,t,i){return n.getUint16(t,i)},size:2},4:{getValue:function(n,t,i){return n.getUint32(t,i)},size:4},5:{getValue:function(n,t,i){return n.getUint32(t,i)/n.getUint32(t+4,i)},size:8},9:{getValue:function(n,t,i){return n.getInt32(t,i)},size:4},10:{getValue:function(n,t,i){return n.getInt32(t,i)/n.getInt32(t+4,i)},size:8}};i[7]=i[1];n.parseExifData=function(i,f,e,o,s){if(!s.disableExif){var c,l,a,v=s.includeExifTags,y=s.excludeExifTags||{34665:{37500:!0}},h=f+10;if(1165519206===i.getUint32(f+4))if(h+8>i.byteLength)console.log("Invalid Exif data: Invalid segment size.");else if(0===i.getUint16(f+8)){switch(i.getUint16(h)){case 18761:c=!0;break;case 19789:c=!1;break;default:return void console.log("Invalid Exif data: Invalid byte alignment marker.")}42===i.getUint16(h+2,c)?(l=i.getUint32(h+4,c),o.exif=new t,s.disableExifOffsets||(o.exifOffsets=new t,o.exifTiffOffset=h,o.exifLittleEndian=c),(l=u(i,h,h+l,c,o.exif,o.exifOffsets,v,y))&&r(v,y,"ifd1")&&(o.exif.ifd1=l,o.exifOffsets&&(o.exifOffsets.ifd1=h+l)),Object.keys(o.exif.ifds).forEach(function(n){var f,r,a,e,p,s,l,w;r=n;a=i;e=h;p=c;s=v;l=y;(w=(f=o).exif[r])&&(f.exif[r]=new t(r),f.exifOffsets&&(f.exifOffsets[r]=new t(r)),u(a,e,e+w,p,f.exif[r],f.exifOffsets&&f.exifOffsets[r],s&&s[r],l&&l[r]))}),(a=o.exif.ifd1)&&a[513]&&(a[513]=function(t,i,r){if(r){if(!(i+r>t.byteLength))return new Blob([n.bufferSlice.call(t.buffer,i,i+r)],{type:"image/jpeg"});console.log("Invalid Exif data: Invalid thumbnail data.")}}(i,h+a[513],a[514]))):console.log("Invalid Exif data: Missing TIFF marker.")}else console.log("Invalid Exif data: Missing byte alignment offset.")}};n.metaDataParsers.jpeg[65505].push(n.parseExifData);n.exifWriters={274:function(n,t,i){var r=t.exifOffsets[274];return r&&new DataView(n,r+8,2).setUint16(0,i,t.exifLittleEndian),n}};n.writeExifData=function(t,i,r,u){return n.exifWriters[i.exif.map[r]](t,i,u)};n.ExifMap=t}),function(n){"use strict";"function"==typeof define&&define.amd?define(["./load-image","./load-image-exif"],n):"object"==typeof module&&module.exports?n(require("./load-image"),require("./load-image-exif")):n(window.loadImage)}(function(n){"use strict";var t=n.ExifMap.prototype;t.tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",34665:{36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",36880:"OffsetTime",36881:"OffsetTimeOriginal",36882:"OffsetTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber"},34853:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},40965:{1:"InteroperabilityIndex"}};t.tags.ifd1=t.tags;t.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"Original",2:"Horizontal flip",3:"Rotate 180° CCW",4:"Vertical flip",5:"Vertical flip + Rotate 90° CW",6:"Rotate 90° CW",7:"Horizontal flip + Rotate 90° CW",8:"Rotate 90° CCW"}};t.getText=function(n){var t=this.get(n);switch(n){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[n][t];case"ExifVersion":case"FlashpixVersion":return t?String.fromCharCode(t[0],t[1],t[2],t[3]):void 0;case"ComponentsConfiguration":return t?this.stringValues[n][t[0]]+this.stringValues[n][t[1]]+this.stringValues[n][t[2]]+this.stringValues[n][t[3]]:void 0;case"GPSVersionID":return t?t[0]+"."+t[1]+"."+t[2]+"."+t[3]:void 0}return String(t)};t.getAll=function(){var n,t,i,r={};for(n in this)Object.prototype.hasOwnProperty.call(this,n)&&((t=this[n])&&t.getAll?r[this.ifds[n].name]=t.getAll():(i=this.tags[n])&&(r[i]=this.getText(i)));return r};t.getName=function(n){var t=this.tags[n];return"object"==typeof t?this.ifds[n].name:t},function(){var n,u,r,i=t.tags;for(n in i)if(Object.prototype.hasOwnProperty.call(i,n))if(u=t.ifds[n])for(n in r=i[n])Object.prototype.hasOwnProperty.call(r,n)&&(u.map[r[n]]=Number(n));else t.map[i[n]]=Number(n)}()}),function(n){"use strict";"function"==typeof define&&define.amd?define(["./load-image","./load-image-meta"],n):"object"==typeof module&&module.exports?n(require("./load-image"),require("./load-image-meta")):n(window.loadImage)}(function(n){"use strict";function t(){}function i(n,t,i,r,u){return"binary"===t.types[n]?new Blob([i.buffer.slice(r,r+u)]):"Uint16"===t.types[n]?i.getUint16(r):function(n,t,i){for(var u="",f=t+i,r=t;r<f;r+=1)u+=String.fromCharCode(n.getUint8(r));return u}(i,r,u)}function r(n,t,r,u,f,e){for(var l,a,s,h,c,v=t+r,o=t;o<v;)28===n.getUint8(o)&&2===n.getUint8(o+1)&&(s=n.getUint8(o+2),f&&!f[s]||e&&e[s]||(a=n.getInt16(o+3),l=i(s,u.iptc,n,o+5,a),u.iptc[s]=(h=u.iptc[s],c=l,h===undefined?c:h instanceof Array?(h.push(c),h):[h,c]),u.iptcOffsets&&(u.iptcOffsets[s]=o))),o+=1}t.prototype.map={ObjectName:5};t.prototype.types={0:"Uint16",200:"Uint16",201:"Uint16",202:"binary"};t.prototype.get=function(n){return this[n]||this[this.map[n]]};n.parseIptcData=function(n,i,u,f,e){var v,o,y,h,s,c,l,a;if(!e.disableIptc)for(s=i+u;i+8<s;){if(h=i,943868237===(y=n).getUint32(h)&&1028===y.getUint16(h+4)){if(c=(v=i,o=void 0,(o=n.getUint8(v+7))%2!=0&&(o+=1),0===o&&(o=4),o),l=i+8+c,s<l){console.log("Invalid IPTC data: Invalid segment offset.");break}if(a=n.getUint16(i+6+c),s<i+a){console.log("Invalid IPTC data: Invalid segment size.");break}return f.iptc=new t,e.disableIptcOffsets||(f.iptcOffsets=new t),void r(n,l,a,f,e.includeIptcTags,e.excludeIptcTags||{202:!0})}i+=1}};n.metaDataParsers.jpeg[65517].push(n.parseIptcData);n.IptcMap=t}),function(n){"use strict";"function"==typeof define&&define.amd?define(["./load-image","./load-image-iptc"],n):"object"==typeof module&&module.exports?n(require("./load-image"),require("./load-image-iptc")):n(window.loadImage)}(function(n){"use strict";var t=n.IptcMap.prototype;t.tags={0:"ApplicationRecordVersion",3:"ObjectTypeReference",4:"ObjectAttributeReference",5:"ObjectName",7:"EditStatus",8:"EditorialUpdate",10:"Urgency",12:"SubjectReference",15:"Category",20:"SupplementalCategories",22:"FixtureIdentifier",25:"Keywords",26:"ContentLocationCode",27:"ContentLocationName",30:"ReleaseDate",35:"ReleaseTime",37:"ExpirationDate",38:"ExpirationTime",40:"SpecialInstructions",42:"ActionAdvised",45:"ReferenceService",47:"ReferenceDate",50:"ReferenceNumber",55:"DateCreated",60:"TimeCreated",62:"DigitalCreationDate",63:"DigitalCreationTime",65:"OriginatingProgram",70:"ProgramVersion",75:"ObjectCycle",80:"Byline",85:"BylineTitle",90:"City",92:"Sublocation",95:"State",100:"CountryCode",101:"Country",103:"OriginalTransmissionReference",105:"Headline",110:"Credit",115:"Source",116:"CopyrightNotice",118:"Contact",120:"Caption",121:"LocalCaption",122:"Writer",125:"RasterizedCaption",130:"ImageType",131:"ImageOrientation",135:"LanguageIdentifier",150:"AudioType",151:"AudioSamplingRate",152:"AudioSamplingResolution",153:"AudioDuration",154:"AudioOutcue",184:"JobID",185:"MasterDocumentID",186:"ShortDocumentID",187:"UniqueDocumentID",188:"OwnerID",200:"ObjectPreviewFileFormat",201:"ObjectPreviewFileVersion",202:"ObjectPreviewData",221:"Prefs",225:"ClassifyState",228:"SimilarityIndex",230:"DocumentNotes",231:"DocumentHistory",232:"ExifCameraInfo",255:"CatalogSets"};t.stringValues={10:{0:"0 (reserved)",1:"1 (most urgent)",2:"2",3:"3",4:"4",5:"5 (normal urgency)",6:"6",7:"7",8:"8 (least urgent)",9:"9 (user-defined priority)"},75:{a:"Morning",b:"Both Morning and Evening",p:"Evening"},131:{L:"Landscape",P:"Portrait",S:"Square"}};t.getText=function(n){var t=this.get(n),r=this.map[n],i=this.stringValues[r];return i?i[t]:String(t)};t.getAll=function(){var n,t,i={};for(n in this)Object.prototype.hasOwnProperty.call(this,n)&&(t=this.tags[n])&&(i[t]=this.getText(t));return i};t.getName=function(n){return this.tags[n]},function(){var n,i=t.tags,r=t.map||{};for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r[i[n]]=Number(n))}()});